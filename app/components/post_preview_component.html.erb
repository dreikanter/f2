<%= render(CardComponent.new(id: card_id, class: "space-y-4")) do %>
  <header class="space-y-2">
    <div class="flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between">
      <h2 class="text-lg font-semibold text-slate-900"><%= title %></h2>
      <% if source_url %>
        <%= link_to "View source", source_url, target: "_blank", rel: "noopener", class: "ff-link text-sm" %>
      <% end %>
    </div>
    <% if metadata_segments.any? %>
      <div class="flex flex-wrap items-center gap-x-3 gap-y-2 text-xs text-slate-600">
        <% metadata_segments.each_with_index do |segment, index| %>
          <% if index.positive? %>
            <span aria-hidden="true" class="text-slate-300">â€¢</span>
          <% end %>
          <span><%= segment %></span>
        <% end %>
      </div>
    <% end %>
  </header>

  <% if formatted_content %>
    <%= formatted_content %>
  <% end %>

  <% if attachments? %>
    <section class="space-y-2">
      <p class="text-xs font-semibold uppercase tracking-wide text-slate-500">Attachments</p>
      <%= attachments_list %>
    </section>
  <% end %>
<% end %>
