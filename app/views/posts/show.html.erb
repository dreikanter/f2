<% content_for :title, "Post #{@post.id}" %>

<div class="space-y-8">
  <div class="flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between">
    <div>
      <h1 class="ff-h1">Post <%= @post.id %></h1>
      <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium <%= post_status_badge_classes(@post.status) %>" data-key="post.status_badge">
        <%= @post.status.capitalize %>
      </span>
    </div>
    <div class="flex w-full items-center justify-between gap-3 sm:w-auto sm:justify-end">
      <%= link_to "Back to Posts", posts_path, class: class_names("ff-button", "ff-button--secondary", "ff-button--compact") %>
      <% if policy(@post).destroy? %>
        <%= button_to "Withdraw", post_path(@post),
                      method: :delete,
                      class: class_names("ff-button", "ff-button--compact", "bg-red-600 hover:bg-red-500"),
                      data: {
                        turbo_confirm: "Withdraw this post? It will be removed from FreeFeed but remain visible here."
                      },
                      form: { class: "inline-block" } %>
      <% end %>
    </div>
  </div>

  <%= render PostDetailsComponent.new(post: @post) %>

  <div class="overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm p-4">
    <h2 class="text-base font-semibold text-slate-900 mb-3">Content</h2>
    <div class="text-slate-900">
      <%= simple_format(@post.content) %>
    </div>
  </div>
</div>
