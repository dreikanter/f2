<% content_for :title, "Access Token" %>

<div class="space-y-8">
  <%= render PageHeaderComponent.new(title: @access_token.name) do |header| %>
    <% header.with_action_button do %>
      <%= link_to "Back to Tokens", settings_access_tokens_path, class: class_names("ff-button", "ff-button--secondary", "ff-button--compact") %>
    <% end %>
    <% header.with_action_button do %>
      <%= link_to "Edit", edit_settings_access_token_path(@access_token), class: class_names("ff-button", "ff-button--compact") %>
    <% end %>
    <% header.with_action_button do %>
      <%= link_to "Delete",
                  "#",
                  class: class_names("ff-button", "ff-button--compact", "ff-button--danger"),
                  data: { controller: "modal-trigger", modal_trigger_modal_id_value: "delete-token-modal", action: "click->modal-trigger#open" } %>
    <% end %>
  <% end %>

  <%= render ConfirmationModalComponent.new(
    title: "Delete Access Token",
    action: "Delete token",
    url: settings_access_token_path(@access_token),
    method: :delete,
    modal_id: "delete-token-modal"
  ) do %>
    <div class="ff-alert ff-alert--warning space-y-2">
      <p>The token <em><%= @access_token.name %></em> will be permanently removed.</p>
      <p>Any feeds using this token will be automatically disabled.</p>
      <p>This can't be undone.</p>
    </div>
  <% end %>
</div>
